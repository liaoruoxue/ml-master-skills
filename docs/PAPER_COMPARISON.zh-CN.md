# ML-Master vs è®ºæ–‡å®ç°å¯¹ç…§è¡¨

> è®ºæ–‡: "Toward Ultra-Long-Horizon Agentic Science: Cognitive Accumulation for Machine Learning Engineering"
> arXiv: 2601.10402v3
> ML-Master ç‰ˆæœ¬: 2.1.0

---

## 1. æ ¸å¿ƒæ¶æ„: Hierarchical Cognitive Caching (HCC)

### 1.1 ä¸‰å±‚å­˜å‚¨æ¶æ„

| å±‚çº§ | è®ºæ–‡å®šä¹‰ | è®ºæ–‡ç”¨é€” | ML-Master å®ç° | çŠ¶æ€ |
|------|----------|----------|----------------|------|
| **L1** | Evolving Experience | åŸå§‹æ‰§è¡Œæ•°æ®ï¼šä»£ç ã€ç»ˆç«¯è¾“å‡ºã€é”™è¯¯å †æ ˆ | `execution_trace.md` | âœ… 100% |
| **L2** | Refined Knowledge | æç‚¼çš„çŸ¥è¯†ï¼šæ´å¯Ÿã€å‡è®¾éªŒè¯ã€å®éªŒç»“è®º | `findings.md` + `task_plan.md` | âœ… 100% |
| **L3** | Prior Wisdom | è·¨ä»»åŠ¡æ™ºæ…§ï¼šæœ€ä½³å®è·µã€å¸¸è§é”™è¯¯ã€ä»£ç æ¨¡æ¿ | `wisdom/` ç›®å½• | âœ… 95% |

### 1.2 L1 è¯¦ç»†å¯¹ç…§

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| å­˜å‚¨å†…å®¹ | ä»£ç ç‰‡æ®µã€ç»ˆç«¯è¾“å‡ºã€é”™è¯¯å †æ ˆã€ä¸´æ—¶è§‚å¯Ÿ | Operations Log + Metric Log + Notes | âœ… |
| ç”Ÿå‘½å‘¨æœŸ | é˜¶æ®µç»“æŸæ—¶æ¸…ç©º | `/promote` åé€šè¿‡ `clear-l1.sh` æ¸…ç©º | âœ… |
| æ›´æ–°é¢‘ç‡ | é«˜é¢‘æ›´æ–°ï¼Œé˜²æ­¢ä¿¡æ¯ä¸¢å¤± | 5-Action Rule (æ¯5æ¬¡å·¥å…·è°ƒç”¨æ›´æ–°) | âœ… |
| å¤§å°é™åˆ¶ | è¿‡å¤§æ—¶è§¦å‘å‹ç¼© | >80 è¡Œæ—¶ Hook è­¦å‘Šï¼Œå»ºè®® /promote | âœ… |

### 1.3 L2 è¯¦ç»†å¯¹ç…§

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| å­˜å‚¨å†…å®¹ | å…³é”®åˆ¤æ–­ã€å®éªŒæ´å¯Ÿã€éªŒè¯çš„å‡è®¾ | findings.md å¤šä¸ªç»“æ„åŒ– section | âœ… |
| è®¡åˆ’çŠ¶æ€ | å½“å‰ç›®æ ‡ã€è¿›åº¦è¿½è¸ª | task_plan.md Research Plan ç»“æ„ | âœ… |
| Best Code | è¿½è¸ªå½“å‰æœ€ä½³ä»£ç  | task_plan.md Current Best Code section | âœ… |
| ç”Ÿå‘½å‘¨æœŸ | ä»»åŠ¡çº§æŒä¹…åŒ– | ä»»åŠ¡å®Œæˆå‰æŒç»­å­˜åœ¨ | âœ… |

### 1.4 L3 è¯¦ç»†å¯¹ç…§

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| é™æ€çŸ¥è¯† | ML æœ€ä½³å®è·µã€å¸¸è§é”™è¯¯è§£å†³æ–¹æ¡ˆ | `wisdom/global_wisdom.md` | âœ… |
| ä»»åŠ¡æ™ºæ…§ | ä»å®Œæˆä»»åŠ¡ä¸­æç‚¼çš„å¯è¿ç§»çŸ¥è¯† | `wisdom/task_wisdom.md` | âœ… |
| è¯­ä¹‰ç´¢å¼• | Embedding å‘é‡ç´¢å¼• h_n = E(d_n) | `wisdom/embeddings.json` | âœ… |
| è¯­ä¹‰æ£€ç´¢ | cos(q, h_n) > Î´ é˜ˆå€¼æ£€ç´¢ | `embedding_utils.py` search | âœ… |

---

## 2. ä¸Šä¸‹æ–‡æå‡æœºåˆ¶ (Context Promotion)

### 2.1 P1: Phase-level Promotion

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| è§¦å‘æ¡ä»¶ | é˜¶æ®µ/Implementation å®Œæˆæ—¶ | `/promote` å‘½ä»¤æ‰‹åŠ¨è§¦å‘ | âœ… |
| å‹ç¼©è¿‡ç¨‹ | Agent æ€»ç»“ L1ï¼Œæå–æ´å¯Ÿå†™å…¥ L2 | promote.sh æ˜¾ç¤º L1ï¼ŒAgent æ€»ç»“ | âœ… |
| L1 æ¸…ç©º | å‹ç¼©åæ¸…ç©º L1 | `clear-l1.sh` è„šæœ¬ | âœ… |
| L2 æ›´æ–° | æ´å¯Ÿè¿½åŠ åˆ° L2 | Agent æ›´æ–° findings.md | âœ… |

### 2.2 P2: Task-level Promotion

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| è§¦å‘æ¡ä»¶ | ä»»åŠ¡å®Œå…¨å®Œæˆæ—¶ | `/complete` å‘½ä»¤ | âœ… |
| æ™ºæ…§æå– | ä» L2 æç‚¼å¯è¿ç§»çš„ä»»åŠ¡çº§æ™ºæ…§ | Agent æ€»ç»“å†™å…¥ task_wisdom.md | âœ… |
| L3 æ›´æ–° | æ·»åŠ åˆ°æ°¸ä¹…çŸ¥è¯†åº“ | æŒ‰ä»»åŠ¡ç±»å‹åˆ†ç±»è¿½åŠ  | âœ… |
| Embedding æ›´æ–° | æ›´æ–°è¯­ä¹‰ç´¢å¼• | embedding_utils.py add | âœ… |

### 2.3 Context Hit (ä¸Šä¸‹æ–‡å‘½ä¸­)

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| è‡ªåŠ¨æ£€ç´¢ | éœ€è¦ä¿¡æ¯æ—¶è‡ªåŠ¨æŸ¥ L1/L2 | CLAUDE.md è‡ªåŠ¨åŒæ­¥ (v2.1) | âœ… 95% |
| L1 å‘½ä¸­ | è¿”å›åŸå§‹æ•°æ® | æ–‡ä»¶ç›´æ¥è¯»å– | âœ… |
| L2 å‘½ä¸­ | è¿”å›æ‘˜è¦ç‰ˆæœ¬ | /recover ä» L2 æ¢å¤ | âœ… |
| æ¢å¤æœºåˆ¶ | /clear åé‡å»ºçŠ¶æ€ | `/recover` å‘½ä»¤ | âœ… |

---

## 3. Research Plan ç»“æ„

### 3.1 mÃ—q åˆ†å±‚è®¡åˆ’

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| m Directions | å¤šä¸ªæ¢ç´¢æ–¹å‘ | task_plan.md Direction 1/2/3... | âœ… |
| q Implementations | æ¯æ–¹å‘å¤šä¸ªå…·ä½“å®æ–½ | Implementation X.1, X.2... | âœ… |
| çŠ¶æ€è¿½è¸ª | pending/in_progress/complete/abandoned | Status å­—æ®µ | âœ… |
| Outcome è®°å½• | æ¯ä¸ªå®æ–½çš„ç»“æœå’Œå­¦ä¹  | Outcome å­—æ®µ | âœ… |

### 3.2 Best Code Tracking

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| ä»£ç è·¯å¾„ | è¿½è¸ªæœ€ä½³ä»£ç æ–‡ä»¶ | Current Best Code - File å­—æ®µ | âœ… |
| è¯„ä¼°æŒ‡æ ‡ | è®°å½•ä½¿ç”¨çš„æŒ‡æ ‡ | Metric å­—æ®µ | âœ… |
| æœ€ä½³åˆ†æ•° | å½“å‰æœ€é«˜åˆ†æ•° | Score å­—æ®µ | âœ… |
| å†å²æ¼”è¿› | è®°å½•åˆ†æ•°æå‡å†ç¨‹ | findings.md Best Code History | âœ… |

### 3.3 Metric Tracking

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| å®æ—¶è®°å½• | æ¯æ¬¡è¿è¡Œåè®°å½•æŒ‡æ ‡ | execution_trace.md Metric Log | âœ… |
| å¯¹æ¯”åŸºçº¿ | vs Best åˆ— | Metric Log vs Best å­—æ®µ | âœ… |
| å®éªŒæ±‡æ€» | è·¨å®éªŒæ¯”è¾ƒ | findings.md Experiment Results | âœ… |

---

## 4. è§„åˆ™ä¸çº¦æŸ

### 4.1 N-Action Rule

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| æ›´æ–°é¢‘ç‡ | æ¯ N æ¬¡å·¥å…·è°ƒç”¨æ›´æ–° L1 | 5-Action Rule (v2.1 ä¼˜åŒ–) | âœ… |
| è§¦å‘å·¥å…· | Write/Edit/Bash ç­‰ä¿®æ”¹æ“ä½œ | PostToolUse Hook è®¡æ•° | âœ… |
| æé†’æœºåˆ¶ | æé†’ Agent æ›´æ–° | Hook è¾“å‡ºæé†’ä¿¡æ¯ | âœ… |

### 4.2 Dual Read/Write Rule (åŒé‡è¯»å†™è§„åˆ™)

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| L1 å†™å…¥ | åªå†™æ‰§è¡Œç»†èŠ‚ | ä»£ç ã€è¾“å‡ºã€é”™è¯¯ â†’ execution_trace.md | âœ… |
| L2 å†™å…¥ | åªå†™ç»“è®ºæ´å¯Ÿ | æ´å¯Ÿã€å‡è®¾ã€å†³ç­– â†’ findings.md | âœ… |
| ç¦æ­¢æ··æ·† | ä¸èƒ½äº¤å‰å†™å…¥ | SKILL.md è§„åˆ™æ˜ç¡®ç¦æ­¢ | âœ… |

### 4.3 ç¦æ­¢ä¸Šä¸‹æ–‡å †ç§¯

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| ä¾èµ–æ–‡ä»¶ | ä¸ä¾èµ–å¯¹è¯å†å²è®°å¿†é”™è¯¯ | è§„åˆ™æ˜ç¡®è¦æ±‚è¯»å–æ–‡ä»¶ | âœ… |
| æŒä¹…åŒ– | æ‰€æœ‰é‡è¦ä¿¡æ¯å†™å…¥æ–‡ä»¶ | L1/L2/L3 æ–‡ä»¶ç³»ç»Ÿ | âœ… |

---

## 5. L3 è¯­ä¹‰æ£€ç´¢ç³»ç»Ÿ

### 5.1 Embedding æœºåˆ¶

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡å…¬å¼ | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| å‘é‡ç¼–ç  | h_n = E(d_n) | sentence-transformers all-MiniLM-L6-v2 | âœ… |
| ç›¸ä¼¼åº¦è®¡ç®— | cos(q, h_n) | numpy cosine similarity | âœ… |
| é˜ˆå€¼è¿‡æ»¤ | > Î´ (threshold) | Î´ = 0.5 é»˜è®¤é˜ˆå€¼ | âœ… |
| Top-K è¿”å› | è¿”å›æœ€ç›¸ä¼¼çš„ K ä¸ª | top_k = 3 é»˜è®¤ | âœ… |

### 5.2 Context Prefetching

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master å®ç° | çŠ¶æ€ |
|----------|----------|----------------|------|
| è§¦å‘æ—¶æœº | ä»»åŠ¡å¼€å§‹æ—¶ | init-session.sh æ”¯æŒæè¿°å‚æ•° | âœ… |
| æŸ¥è¯¢ç”Ÿæˆ | q = E(task_descriptor) | ä¼ å…¥ä»»åŠ¡æè¿°è¿›è¡Œæ£€ç´¢ | âœ… |
| æ™ºæ…§åŠ è½½ | é¢„åŠ è½½ç›¸å…³ wisdom | æ˜¾ç¤ºåŒ¹é…çš„ task_wisdom æ¡ç›® | âœ… |

### 5.3 é™çº§æ–¹æ¡ˆ

| åœºæ™¯ | è®ºæ–‡è¦æ±‚ | ML-Master å®ç° | çŠ¶æ€ |
|------|----------|----------------|------|
| æ—  sentence-transformers | åº”æœ‰é™çº§æ–¹æ¡ˆ | Jaccard å…³é”®è¯åŒ¹é… | âœ… |
| æ—  Python | åº”èƒ½ç»§ç»­å·¥ä½œ | è·³è¿‡æ£€ç´¢ï¼Œä»…è­¦å‘Š | âœ… |

---

## 6. å‘½ä»¤ä¸å·¥ä½œæµ

### 6.1 å‘½ä»¤å¯¹ç…§

| åŠŸèƒ½ | è®ºæ–‡æè¿° | ML-Master å‘½ä»¤ | å®ç°è„šæœ¬ | çŠ¶æ€ |
|------|----------|----------------|----------|------|
| åˆå§‹åŒ– | åˆ›å»º L1/L2ï¼ŒåŠ è½½ L3 | `/plan` | init-session.sh | âœ… |
| çŠ¶æ€æŸ¥çœ‹ | å¿«é€Ÿäº†è§£å½“å‰çŠ¶æ€ | `/status` | status.sh (v2.1) | âœ… |
| P1 æå‡ | L1 â†’ L2 å‹ç¼© | `/promote` | promote.sh | âœ… |
| æ¢å¤çŠ¶æ€ | /clear åé‡å»º | `/recover` | recover.sh | âœ… |
| P2 æå‡ | L2 â†’ L3 æ™ºæ…§æå– | `/complete` | task-complete.sh | âœ… |
| æ¸…ç©º L1 | é˜¶æ®µç»“æŸæ¸…ç† | å†…éƒ¨è°ƒç”¨ | clear-l1.sh | âœ… |

### 6.2 å·¥ä½œæµå¯¹ç…§

| é˜¶æ®µ | è®ºæ–‡å·¥ä½œæµ | ML-Master å·¥ä½œæµ | çŠ¶æ€ |
|------|-----------|------------------|------|
| ä»»åŠ¡å¼€å§‹ | åˆå§‹åŒ– + Context Prefetching | /plan [description] | âœ… |
| æ‰§è¡Œä¸­ | N-Action Rule æ›´æ–° L1 | 5-Action Rule + Hooks | âœ… |
| é˜¶æ®µå®Œæˆ | P1 Promotion | /promote | âœ… |
| ä»»åŠ¡å®Œæˆ | P2 Promotion | /complete | âœ… |
| ä¸Šä¸‹æ–‡æ¸…é™¤ | Context Hit æ¢å¤ | /recover + CLAUDE.md | âœ… |

---

## 7. Hooks æœºåˆ¶

### 7.1 PreToolUse Hook

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master v2.0 | ML-Master v2.1 | çŠ¶æ€ |
|----------|----------|----------------|----------------|------|
| Context Check | æ‰§è¡Œå‰æ£€æŸ¥çŠ¶æ€ | æ¯æ¬¡è¾“å‡ºå®Œæ•´çŠ¶æ€ | ä»… L1>80 è¡Œè­¦å‘Š | âœ… ä¼˜åŒ– |
| è§¦å‘å·¥å…· | ä¿®æ”¹ç±»å·¥å…· | Write\|Edit\|Bash\|Read\|Glob\|Grep | Write\|Edit\|Bash | âœ… ä¼˜åŒ– |

### 7.2 PostToolUse Hook

| è®ºæ–‡è¦æ±‚ | è®ºæ–‡æè¿° | ML-Master v2.0 | ML-Master v2.1 | çŠ¶æ€ |
|----------|----------|----------------|----------------|------|
| æ›´æ–°æé†’ | æé†’æ›´æ–° L1 | æ¯æ¬¡æé†’ | æ¯ 5 æ¬¡æé†’ | âœ… ä¼˜åŒ– |
| Best Code æé†’ | Metric æå‡æ—¶æ›´æ–° | æ¯æ¬¡æé†’ | ç§»é™¤ (å‡å°‘å™ªéŸ³) | âœ… ä¼˜åŒ– |

---

## 8. éªŒæ”¶æ ‡å‡†

| è®ºæ–‡éªŒæ”¶æ ‡å‡† | æè¿° | ML-Master å®ç° | éªŒè¯æ–¹å¼ | çŠ¶æ€ |
|--------------|------|----------------|----------|------|
| æŒä¹…åŒ–éªŒè¯ | /clear å 1 åˆ†é’Ÿå†…æ¢å¤çŠ¶æ€ | /recover + CLAUDE.md | CIFAR-10 æµ‹è¯•éªŒè¯ | âœ… |
| ä¿¡æ¯æµè½¬ | L1 é”¯é½¿çŠ¶ï¼ŒL2 é˜¶æ¢¯çŠ¶ | æ–‡ä»¶å¤§å°å˜åŒ–ç¬¦åˆé¢„æœŸ | å®é™…è§‚å¯ŸéªŒè¯ | âœ… |
| é•¿ç¨‹æ¨ç† | ç¬¬ 50 è½®å¼•ç”¨ç¬¬ 1 è½®åŸåˆ™ | L2 æŒä¹…åŒ– Strategic Goal | CIFAR-10 æµ‹è¯•éªŒè¯ | âœ… |
| 5-Question Test | èƒ½å›ç­” 5 ä¸ªæ ¸å¿ƒé—®é¢˜ | æ‰€æœ‰é—®é¢˜ä»æ–‡ä»¶å¯å›ç­” | /status + /recover | âœ… |

---

## 9. æœªå®ç° / å¹³å°é™åˆ¶

| è®ºæ–‡ç‰¹æ€§ | åŸå›  | æ›¿ä»£æ–¹æ¡ˆ | å½±å“ç¨‹åº¦ |
|----------|------|----------|----------|
| **å¹¶è¡Œ Implementation æ‰§è¡Œ** | Claude Code å•çº¿ç¨‹é™åˆ¶ | é¡ºåºæ‰§è¡Œï¼Œä¿æŒ mÃ—q ç»“æ„ | ğŸŸ¡ ä½ |
| **Initial Code Phase åˆ†ç¦»** | è®¾è®¡é€‰æ‹© | Agent è‡ªè¡Œåˆ¤æ–­åˆ†é˜¶æ®µ | ğŸŸ¢ æä½ |
| **å®Œå…¨è‡ªåŠ¨ Context Hit** | Hook èƒ½åŠ›é™åˆ¶ | CLAUDE.md è¿‘ä¼¼å®ç° | ğŸŸ¢ æä½ |

---

## 10. ç‰ˆæœ¬æ¼”è¿›

| ç‰ˆæœ¬ | ä¸»è¦å˜åŒ– | è®ºæ–‡å®Œæˆåº¦ |
|------|----------|-----------|
| v2.0.0 | åˆå§‹ HCC å®ç° | ~90% |
| v2.1.0 | Hook ä¼˜åŒ– + /status + CLAUDE.md è‡ªåŠ¨åŒæ­¥ | **~95%** |

---

## 11. å®æˆ˜éªŒè¯: CIFAR-10 æŒ‘æˆ˜

| æŒ‡æ ‡ | ç»“æœ |
|------|------|
| ç›®æ ‡ | >85% Test Accuracy |
| è¾¾æˆ | **89.38%** |
| æ¨¡å‹è¿­ä»£ | 3 Implementations (75.47% â†’ 82.59% â†’ 89.38%) |
| P1 æ‰§è¡Œ | 3 æ¬¡ |
| P2 æ‰§è¡Œ | 1 æ¬¡ |
| L3 æ›´æ–° | task_wisdom.md å·²è®°å½• |
| éªŒè¯åŠŸèƒ½ | L1/L2/L3ã€P1/P2ã€Best Code Trackingã€mÃ—q ç»“æ„ |

---

## 12. æ–‡ä»¶ç»“æ„

```
.claude/skills/ml-master/
â”œâ”€â”€ SKILL.md                 # v2.1.0 ä¸»é…ç½® + Hooks
â”œâ”€â”€ CLAUDE.md                # Skill çº§ä¸Šä¸‹æ–‡è¯´æ˜
â”œâ”€â”€ PAPER_COMPARISON.md      # æœ¬æ–‡æ¡£
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ execution_trace.md   # L1 æ¨¡æ¿ (ç®€åŒ–ç‰ˆ 4 sections)
â”‚   â”œâ”€â”€ task_plan.md         # L2 è®¡åˆ’æ¨¡æ¿
â”‚   â””â”€â”€ findings.md          # L2 çŸ¥è¯†æ¨¡æ¿
â”œâ”€â”€ wisdom/
â”‚   â”œâ”€â”€ global_wisdom.md     # L3 é™æ€çŸ¥è¯†
â”‚   â”œâ”€â”€ task_wisdom.md       # L3 ä»»åŠ¡æ™ºæ…§
â”‚   â”œâ”€â”€ embeddings.json      # L3 å‘é‡ç´¢å¼•
â”‚   â””â”€â”€ embedding_utils.py   # åµŒå…¥å·¥å…·
â””â”€â”€ scripts/
    â”œâ”€â”€ init-session.sh      # /plan
    â”œâ”€â”€ status.sh            # /status (v2.1)
    â”œâ”€â”€ promote.sh           # /promote (P1)
    â”œâ”€â”€ recover.sh           # /recover
    â”œâ”€â”€ task-complete.sh     # /complete (P2)
    â”œâ”€â”€ clear-l1.sh          # æ¸…ç©º L1
    â”œâ”€â”€ check-complete.sh    # å®Œæˆæ£€æŸ¥
    â””â”€â”€ extract-metrics.sh   # metrics æå– (v2.1)
```

---

## 13. æ€»ç»“

```
è®ºæ–‡å®Œæ•´åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ ~95%

âœ… å®Œå…¨å®ç°:
   - HCC ä¸‰å±‚å­˜å‚¨æ¶æ„ (L1/L2/L3)
   - P1/P2 ä¸Šä¸‹æ–‡æå‡æœºåˆ¶
   - Research Plan mÃ—q ç»“æ„
   - Best Code Tracking
   - Metric Tracking
   - L3 Embedding è¯­ä¹‰æ£€ç´¢
   - N-Action Rule (5-Action)
   - åŒé‡è¯»å†™è§„åˆ™
   - Context Hit (CLAUDE.md å®ç°)

âš ï¸ éƒ¨åˆ†å®ç° (å¹³å°é™åˆ¶):
   - å¹¶è¡Œ Implementation æ‰§è¡Œ â†’ é¡ºåºæ‰§è¡Œæ›¿ä»£
   - Initial Code Phase â†’ Agent è‡ªè¡Œåˆ¤æ–­

ğŸ“Š å®æˆ˜éªŒè¯:
   - CIFAR-10: 89.38% (ç›®æ ‡ >85%)
   - å®Œæ•´èµ°é€š L1â†’L2â†’L3 å…¨æµç¨‹
```

---

## é™„å½• A: Claude Code Skills èƒ½åŠ›ä½¿ç”¨æ€»ç»“

åœ¨å®ç° ML-Master (HCC è®ºæ–‡) è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†ä»¥ä¸‹ Claude Code Skills èƒ½åŠ›ï¼š

### A.1 Skill å®šä¹‰ (`SKILL.md`)

```yaml
# æ ¸å¿ƒé…ç½®æ–‡ä»¶ç»“æ„
name: ml-master
version: 2.1.0
description: Hierarchical Cognitive Caching for ML tasks
```

**ä½¿ç”¨æ–¹å¼**ï¼š
- å®šä¹‰ Skill å…ƒæ•°æ® (name, version, description)
- å£°æ˜å‘½ä»¤ (commands) å’Œè§„åˆ™ (rules)
- é…ç½® Hooks è§¦å‘æ¡ä»¶

### A.2 Hooks ç³»ç»Ÿ (æ ¸å¿ƒèƒ½åŠ›)

#### PreToolUse Hook
```yaml
hooks:
  PreToolUse:
    - matcher: "Write|Edit|Bash"
      hooks:
        - type: command
          command: |
            # åªåœ¨ L1 > 80 è¡Œæ—¶è­¦å‘Š
            if [ -f execution_trace.md ]; then
              LINES=$(wc -l < execution_trace.md)
              if [ "$LINES" -gt 80 ]; then
                echo "[ML-Master] âš ï¸ L1 has $LINES lines"
              fi
            fi
```

**ç”¨é€”**ï¼šå·¥å…·è°ƒç”¨**å‰**æ£€æŸ¥çŠ¶æ€

#### PostToolUse Hook
```yaml
PostToolUse:
  - matcher: "Write|Edit|Bash"
    hooks:
      - type: command
        command: |
          # 5-Action Rule è®¡æ•°å™¨
          COUNT_FILE="/tmp/ml-master-action-count-$$"
          COUNT=$(($(cat "$COUNT_FILE" 2>/dev/null || echo 0) + 1))
          echo $COUNT > "$COUNT_FILE"
          if [ $((COUNT % 5)) -eq 0 ]; then
            echo "[ML-Master] ğŸ“ Update execution_trace.md"
          fi
```

**ç”¨é€”**ï¼šå·¥å…·è°ƒç”¨**å**æé†’æ›´æ–° L1

### A.3 è‡ªå®šä¹‰å‘½ä»¤ (Slash Commands)

| å‘½ä»¤ | è„šæœ¬ | è®ºæ–‡åŠŸèƒ½ |
|------|------|----------|
| `/plan` | `init-session.sh` | åˆå§‹åŒ– + Context Prefetching |
| `/status` | `status.sh` | å¿«é€ŸçŠ¶æ€æ¦‚è§ˆ |
| `/promote` | `promote.sh` | P1 Promotion (L1â†’L2) |
| `/recover` | `recover.sh` | Context Hit æ¢å¤ |
| `/complete` | `task-complete.sh` | P2 Promotion (L2â†’L3) |

**å®šä¹‰æ–¹å¼**ï¼š
```yaml
commands:
  - name: promote
    description: Compress L1 to L2
    script: scripts/promote.sh
```

### A.4 Shell è„šæœ¬ (`scripts/`)

```
scripts/
â”œâ”€â”€ init-session.sh      # åˆ›å»º L1/L2 æ–‡ä»¶ + CLAUDE.md
â”œâ”€â”€ status.sh            # è§£ææ–‡ä»¶æ˜¾ç¤ºçŠ¶æ€
â”œâ”€â”€ promote.sh           # æ˜¾ç¤º L1 å†…å®¹ä¾› Agent æ€»ç»“
â”œâ”€â”€ recover.sh           # ä» L2 æ¢å¤è®¤çŸ¥çŠ¶æ€
â”œâ”€â”€ task-complete.sh     # P2 è§¦å‘ + Embedding å‘½ä»¤æç¤º
â”œâ”€â”€ clear-l1.sh          # é‡ç½® L1 ä¸ºæ¨¡æ¿
â””â”€â”€ extract-metrics.sh   # ä»æ—¥å¿—æå–æŒ‡æ ‡
```

**ç‰¹ç‚¹**ï¼šè„šæœ¬è¾“å‡ºä¼šæˆä¸º Agent çš„è¾“å…¥ï¼Œå®ç°**äººæœºåä½œ**

### A.5 æ¨¡æ¿ç³»ç»Ÿ (`templates/`)

```
templates/
â”œâ”€â”€ execution_trace.md   # L1 å·¥ä½œè®°å¿†æ¨¡æ¿
â”œâ”€â”€ task_plan.md         # L2 æˆ˜ç•¥è®¡åˆ’æ¨¡æ¿
â””â”€â”€ findings.md          # L2 çŸ¥è¯†åº“æ¨¡æ¿
```

**ä½¿ç”¨æ–¹å¼**ï¼š`init-session.sh` å¤åˆ¶æ¨¡æ¿åˆ°é¡¹ç›®ç›®å½•

### A.6 CLAUDE.md (é¡¹ç›®ä¸Šä¸‹æ–‡)

```markdown
# Project Context (ML-Master)

## Memory Files
- `task_plan.md` - Strategic Goal & Plan (L2)
- `findings.md` - Key Insights (L2)
- `execution_trace.md` - Current Progress (L1)

## Quick Commands
- `/status` - View current state
- `/promote` - Compress L1â†’L2
```

**èƒ½åŠ›**ï¼šClaude Code è‡ªåŠ¨è¯»å–é¡¹ç›®æ ¹ç›®å½•çš„ `CLAUDE.md`ï¼Œå®ç°**è‡ªåŠ¨ Context Hit**

### A.7 Wisdom ç›®å½• (L3 æ°¸ä¹…å­˜å‚¨)

```
wisdom/
â”œâ”€â”€ global_wisdom.md     # ML æœ€ä½³å®è·µ (é™æ€)
â”œâ”€â”€ task_wisdom.md       # ä»»åŠ¡çº§æ™ºæ…§ (P2 è¿½åŠ )
â”œâ”€â”€ embeddings.json      # å‘é‡ç´¢å¼•
â””â”€â”€ embedding_utils.py   # è¯­ä¹‰æ£€ç´¢å·¥å…·
```

**ç‰¹ç‚¹**ï¼šè·¨ä»»åŠ¡æŒä¹…åŒ–ï¼Œæ”¯æŒè¯­ä¹‰æ£€ç´¢

### A.8 èƒ½åŠ›ç»„åˆæ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SKILL.md (é…ç½®)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hooks                Commands              Templates    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚PreTool  â”‚â”€triggerâ”€â”‚/promote â”‚â”€copyâ”€â”€â”€â”€â”€â”‚L1/L2    â”‚  â”‚
â”‚  â”‚PostTool â”‚â”€remindâ”€â”€â”‚/status  â”‚â”€parseâ”€â”€â”€â”€â”‚templatesâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚/recover â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CLAUDE.md (è‡ªåŠ¨åŠ è½½) â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scripts (ç”Ÿæˆ)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  wisdom/ (L3 æ°¸ä¹…å­˜å‚¨)                                   â”‚
â”‚  â””â”€â”€ embedding_utils.py (è¯­ä¹‰æ£€ç´¢)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### A.9 æœªä½¿ç”¨çš„ Skills èƒ½åŠ›

| èƒ½åŠ› | åŸå›  |
|------|------|
| `Stop` Hook | è®ºæ–‡éœ€è¦æ›´å¤æ‚çš„é˜¶æ®µåˆ¤æ–­ |
| MCP Tools | å½“å‰åœºæ™¯ä¸éœ€è¦å¤–éƒ¨æœåŠ¡ |
| å¤š Skill åä½œ | å•ä¸€ Skill å·²æ»¡è¶³éœ€æ±‚ |

### A.10 èƒ½åŠ›ä½¿ç”¨æ€»ç»“

| èƒ½åŠ›ç±»åˆ« | ä½¿ç”¨ç¨‹åº¦ | è®ºæ–‡å¯¹åº” |
|----------|----------|----------|
| **Hooks** | â­â­â­â­â­ | N-Action Rule, Context Check |
| **Commands** | â­â­â­â­â­ | /promote, /recover, /complete |
| **Scripts** | â­â­â­â­â­ | P1/P2 Promotion æµç¨‹ |
| **Templates** | â­â­â­â­ | L1/L2 ç»“æ„åŒ–å­˜å‚¨ |
| **CLAUDE.md** | â­â­â­â­ | è‡ªåŠ¨ Context Hit |
| **å¤–éƒ¨è„šæœ¬ (Python)** | â­â­â­ | L3 Embedding æ£€ç´¢ |

**æ ¸å¿ƒæ´å¯Ÿ**ï¼š**Hooks + Commands + Scripts** çš„ç»„åˆå®ç°äº†è®ºæ–‡ä¸­çš„ HCC è®¤çŸ¥ç¼“å­˜æœºåˆ¶ï¼Œè€Œ **CLAUDE.md** æä¾›äº†è½»é‡çº§çš„è‡ªåŠ¨ä¸Šä¸‹æ–‡æ¢å¤èƒ½åŠ›ã€‚

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2026-02-06*
*ML-Master ç‰ˆæœ¬: 2.1.0*
*è®ºæ–‡: arXiv:2601.10402v3*
